{% comment %}
  Section Témoignages clients
{% endcomment %}

<section class="py-20 px-4 relative overflow-hidden">
  <!-- Fond décoratif -->
  <div class="absolute inset-0 pointer-events-none">
    <div class="absolute top-0 left-1/4 w-96 h-96 bg-gradient-to-br from-blue-200 to-purple-200 rounded-full blur-3xl opacity-20"></div>
    <div class="absolute bottom-0 right-1/4 w-80 h-80 bg-gradient-to-br from-pink-200 to-blue-200 rounded-full blur-3xl opacity-20"></div>
  </div>

  <div class="container relative z-10">
    <!-- En-tête -->
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-5xl font-bold mb-6">
        {{ section.settings.section_title_normal | default: 'Ce que disent nos' }} <span class="gradient-text">{{ section.settings.section_title_highlight | default: 'clients' }}</span>
      </h2>
      <p class="text-lg text-gray-600 max-w-2xl mx-auto">
        {{ section.settings.section_subtitle | default: 'Plus de 2000 clients satisfaits nous font confiance' }}
      </p>
    </div>

    <!-- Grille de témoignages -->
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
      {% for block in section.blocks %}
        {% if block.type == 'testimonial' %}
          <div class="card p-6 hover:scale-105 transition-all duration-300">
            <!-- Étoiles -->
            <div class="flex items-center mb-4">
              {% for i in (1..5) %}
                <span class="text-yellow-400 text-lg">⭐</span>
              {% endfor %}
            </div>
            
            <!-- Témoignage -->
            <p class="text-gray-600 mb-6 leading-relaxed">
              "{{ block.settings.testimonial_text }}"
            </p>
            
            <!-- Auteur -->
            <div class="flex items-center">
              {% if block.settings.avatar %}
                <img 
                  src="{{ block.settings.avatar | img_url: '48x48' }}" 
                  alt="{{ block.settings.name }}"
                  class="w-12 h-12 rounded-full mr-3"
                >
              {% else %}
                <div class="w-12 h-12 rounded-full mr-3 flex items-center justify-center text-white text-lg font-semibold" style="background: linear-gradient(135deg, var(--color-primary), var(--color-accent));">
                  {{ block.settings.name | slice: 0 }}
                </div>
              {% endif %}
              <div>
                <h4 class="font-semibold text-gray-800">{{ block.settings.name }}</h4>
                <p class="text-sm text-gray-500">{{ block.settings.location }}</p>
              </div>
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>

    <!-- Statistiques de confiance -->
    <div class="mt-16 grid grid-cols-2 md:grid-cols-4 gap-8 max-w-4xl mx-auto">
      {% for block in section.blocks %}
        {% if block.type == 'statistic' %}
          <div class="text-center">
            <div class="text-3xl md:text-4xl font-bold gradient-text mb-2">
              {{ block.settings.number }}
            </div>
            <p class="text-gray-600">{{ block.settings.label }}</p>
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Testimonials Section",
  "tag": "section",
  "settings": [
    {
      "type": "text",
      "id": "section_title_normal",
      "label": "Section Title (Normal)",
      "default": "Ce que disent nos"
    },
    {
      "type": "text",
      "id": "section_title_highlight",
      "label": "Section Title (Highlighted)",
      "default": "clients"
    },
    {
      "type": "textarea",
      "id": "section_subtitle",
      "label": "Section Subtitle",
      "default": "Plus de 2000 clients satisfaits nous font confiance"
    }
  ],
  "blocks": [
    {
      "type": "testimonial",
      "name": "Testimonial",
      "settings": [
        {
          "type": "textarea",
          "id": "testimonial_text",
          "label": "Testimonial Text",
          "default": "La Zen Ring a complètement changé ma façon d'utiliser mon téléphone !"
        },
        {
          "type": "text",
          "id": "name",
          "label": "Customer Name",
          "default": "Marie L."
        },
        {
          "type": "text",
          "id": "location",
          "label": "Customer Location",
          "default": "Paris, France"
        },
        {
          "type": "image_picker",
          "id": "avatar",
          "label": "Customer Avatar"
        }
      ]
    },
    {
      "type": "statistic",
      "name": "Trust Statistic",
      "settings": [
        {
          "type": "text",
          "id": "number",
          "label": "Number/Value",
          "default": "2000+"
        },
        {
          "type": "text",
          "id": "label",
          "label": "Statistic Label",
          "default": "Clients satisfaits"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Testimonials Section",
      "blocks": [
        {
          "type": "testimonial"
        },
        {
          "type": "testimonial"
        },
        {
          "type": "testimonial"
        },
        {
          "type": "statistic"
        }
      ]
    }
  ]
}
{% endschema %}