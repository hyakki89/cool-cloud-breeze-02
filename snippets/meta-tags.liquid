{% comment %}
  Meta tags SEO et r√©seaux sociaux
{% endcomment %}

<meta property="og:site_name" content="{{ shop.name }}">
<meta property="og:url" content="{{ canonical_url }}">
<meta property="og:title" content="{{ page_title }}">
<meta property="og:type" content="website">
<meta property="og:description" content="{{ page_description | default: shop.description | default: shop.name }}">

{% if page_image %}
  <meta property="og:image" content="http:{{ page_image | img_url: '1200x630' }}">
  <meta property="og:image:secure_url" content="https:{{ page_image | img_url: '1200x630' }}">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
{% endif %}

<meta name="twitter:site" content="{{ settings.social_twitter_link | split: 'twitter.com/' | last | prepend: '@' }}">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{{ page_title }}">
<meta name="twitter:description" content="{{ page_description | default: shop.description | default: shop.name }}">

{% case template %}
  {% when 'product' %}
    <meta property="og:type" content="product">
    <meta property="product:price:amount" content="{{ product.price | divided_by: 100.0 }}">
    <meta property="product:price:currency" content="{{ cart.currency.iso_code }}">
    
  {% when 'article' %}
    <meta property="og:type" content="article">
    <meta property="article:author" content="{{ blog.title }}">
    <meta property="article:published_time" content="{{ article.published_at | date: '%Y-%m-%d' }}">
    
{% endcase %}

<!-- Structured Data -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "{{ shop.name }}",
  "url": "{{ shop.url }}",
  {% if settings.logo %}
    "logo": "{{ settings.logo | img_url: 'master' }}",
  {% endif %}
  "sameAs": [
    {% if settings.social_facebook_link != blank %}
      "{{ settings.social_facebook_link }}",
    {% endif %}
    {% if settings.social_instagram_link != blank %}
      "{{ settings.social_instagram_link }}",
    {% endif %}
    {% if settings.social_twitter_link != blank %}
      "{{ settings.social_twitter_link }}",
    {% endif %}
    {% if settings.social_youtube_link != blank %}
      "{{ settings.social_youtube_link }}"
    {% endif %}
  ]
}
</script>

{% if template contains 'product' %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Product",
  "name": "{{ product.title | escape }}",
  "description": "{{ product.description | strip_html | escape }}",
  "image": [
    {% for image in product.images limit: 3 %}
      "{{ image | img_url: 'master' }}"{% unless forloop.last %},{% endunless %}
    {% endfor %}
  ],
  "brand": {
    "@type": "Brand",
    "name": "{{ product.vendor | escape }}"
  },
  "offers": {
    "@type": "Offer",
    "priceCurrency": "{{ cart.currency.iso_code }}",
    "price": "{{ product.price | divided_by: 100.0 }}",
    "availability": "{% if product.available %}https://schema.org/InStock{% else %}https://schema.org/OutOfStock{% endif %}",
    "url": "{{ shop.url }}{{ product.url }}"
  }
}
</script>
{% endif %}